"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[703],{356:(e,a,t)=>{t.d(a,{Hg:()=>i,Jh:()=>l,TP:()=>r,z1:()=>o,zv:()=>c});var s=t(294);const n="105e86e2764e983a83b38e9c7e739751";s.Z.defaults.baseURL="https://api.themoviedb.org/3/";const i=async()=>(await s.Z.get("trending/movie/day?api_key=".concat(n))).data,o=async e=>(await s.Z.get("search/movie?api_key=".concat(n,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))).data,r=async e=>(await s.Z.get("movie/".concat(e,"?api_key=").concat(n,"&language=en-US"))).data,c=async e=>(await s.Z.get("movie/".concat(e,"/credits?api_key=").concat(n,"&language=en-US"))).data,l=async e=>(await s.Z.get("movie/".concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1"))).data},703:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var s=t(579),n=t(791),i=t(356),o=t(689),r=t(87),c=t(804);const l={};var m=t(184);const u=e=>{let{onSubmit:a,children:t}=e;return(0,m.jsx)("form",{className:l.searchForm,onSubmit:a,children:t})},h={},d=()=>(0,m.jsx)("input",{className:h.searchInput,type:"text",name:"movieName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"May contain only letters, apostrophe, dash and spaces. For example moon",required:!0,autoComplete:"off",autoFocus:!0,placeholder:"Search movie..."}),p={},v=e=>{let{onSubmit:a}=e;return(0,m.jsx)("div",{className:p.searchBar,children:(0,m.jsxs)(u,{onSubmit:a,children:[(0,m.jsx)(d,{}),(0,m.jsx)("button",{type:"submit","aria-label":"search button",children:(0,m.jsx)(c.dVI,{})})]})})},g={temporaryClass:"Movies_temporaryClass__ZVnhV"},y=()=>{var e;const a=(0,o.TH)(),[t,c]=(0,r.lr)(),l=null!==(e=t.get("movieName"))&&void 0!==e?e:"",[u,h]=(0,n.useState)([]),[d,p]=(0,n.useState)(!1),[y,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>{""!==l&&(h([]),p(!0),(0,i.z1)(l).then((e=>{if(!e.results.length)return p(!1),x(!0),console.log("There is no movies with this request. Please, try again");x(!1),h(e.results),p(!1)})))}),[l]);return(0,m.jsxs)("main",{children:[(0,m.jsx)(v,{onSubmit:e=>{e.preventDefault();const a=e.currentTarget;c({movieName:a.elements.movieName.value}),a.reset()}}),y&&(0,m.jsx)("p",{children:"There is no movies with this request. Please, try again"}),(0,m.jsxs)("ul",{className:g.movieList,children:[u.map((e=>(0,m.jsx)("li",{children:(0,m.jsx)(r.rU,{className:g.movieLink,to:"/movies/".concat(e.id),state:{from:a},children:e.original_title||e.name})},e.id))),d&&(0,m.jsx)(s.a,{})]})]})}}}]);
//# sourceMappingURL=703.d6b5d29d.chunk.js.map